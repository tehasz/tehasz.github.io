
<!DOCTYPE html>

<html lang="en-US">

<head>

    <title>Invitation Page</title>

    <link rel="stylesheet" type="text/css" href="css/main.css" />

</head>

<body>

<header>

    <div class="top">

        <a class="logo" href="index.html">CapellaVolunteers<span class="dotcom">.org</span></a>

    </div>

    <nav>

        <ul class="topnav">

            <li><a href="index.html" class="active">Home</a>

            </li>

            <li><a href="invitation.html">Invitation</a>

            </li>

            <li><a href="volunteer.html">Volunteers</a>

            </li>

            <li><a href="gallery.html">Gallery</a>

            </li>

            <li><a href="registration.html">Registration</a>

            </li>

        </ul>

    </nav>

</header>

<section id="bannerImages">

    Banner Images<br/>

    <img src="images/banner1.jpg" alt="Banner"/>

    <img src="images/banner2.jpg" alt="Banner"/>

    <img src="images/banner3.jpg" alt="Banner"/>

</section>

<footer>This events site is for IT3515 tasks.

</footer>

</body>

<script type="text/javascript">
// create an variable to preload images
    var imgs = document.images;
// create variable to track length of image array
    var len = imgs.length;

    var counter = 0;
// create index to cycle through elements
    var bannerIndex = 0;

    function onpageload() {
// on page load load images
        [].forEach.call( imgs, function( img ) {

            console.log("Hello");

            img.addEventListener( 'load', incrementCounter, false );

        } );

    }

    function incrementCounter() {

        counter++;
// raise counter and once counter equals array length all images loaded
        if ( counter === len ) {

            console.log( 'All images loaded!' );

            console.log(imgs[bannerIndex]);

            cycleBanner(bannerIndex);

            setInterval( function() {

                cycleBanner(bannerIndex);

            }, 3000);

        }

    }

    function cycleBanner(n) {

        var i;

        for (i = 0; i < len; i++) {
// set css to display no images
            imgs[i].style.display = "none";

        }
// set image style to block
        imgs[bannerIndex].style.display = "block";
// cycle through elements of the banner
        bannerIndex = (bannerIndex + 1) % len;

    }

    onpageload();

</script>

</html>